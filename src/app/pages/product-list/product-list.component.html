<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0">Danh sách sản phẩm</h2>
    <button class="btn btn-outline-danger" (click)="handleLogout()">Log out</button>
  </div>

  <table class="table table-hover table-bordered align-middle shadow-sm rounded">
    <thead class="table-dark">
      <tr>
        <th scope="col" style="width: 50px;">#</th>
        <th scope="col">Tiêu đề</th>
        <th scope="col">Hình ảnh</th>
        <th scope="col" style="width: 100px;">Giá</th>
        <th scope="col" style="width: 80px;">Hiển thị</th>
        <th scope="col" style="width: 160px;">Hành động</th>
      </tr>
    </thead>
    <tbody>
      @for (product of products; track product.id) {
      <tr>
        <th scope="row">{{ product.id }}</th>
        <td>{{ product.title }}</td>
        <td>
          <img
            [src]="product.image"
            alt="Image"
            class="img-thumbnail"
            style="width: 80px; height: auto;"
            *ngIf="product.image; else noImage"
          />
          <ng-template #noImage><span class="text-muted">Không có</span></ng-template>
        </td>
        <td>{{ product.price | currency:'VND':'symbol' }}</td>
        <td>
          <span class="badge" [ngClass]="product.isShow ? 'bg-success' : 'bg-secondary'">
            {{ product.isShow ? 'Có' : 'Không' }}
          </span>
        </td>
        <td>
          <div class="d-flex gap-2">
            <a class="btn btn-sm btn-info text-white" [routerLink]="['/product/edit', product.id]">
              Sửa
            </a>
            <button class="btn btn-sm btn-danger" (click)="handleDelete(product.id)">
              Xoá
            </button>
          </div>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>
